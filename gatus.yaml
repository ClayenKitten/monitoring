# Gatus status page config

alerting:
  telegram:
    token: ${TELEGRAM_TOKEN}
    id: ${TELEGRAM_USER_ID}

storage:
  type: postgres
  path: "postgres://${POSTGRES_USER}:${POSTGRES_PASSWORD}@gatus-db:5432/${POSTGRES_DB}?sslmode=disable"

ui:
  title: ClayenKitten's Status Page
  header: ClayenKitten's Status Page
  logo: https://github.com/ClayenKitten.png
  link: https://clayenkitten.dev
  default-sort-by: group
  custom-css: |
    img[src="https://github.com/ClayenKitten.png"] {
      border-radius: 12px;
    }

endpoints:
  # ClayenKitten
  - name: Website
    group: ClayenKitten
    url: https://clayenkitten.dev
    interval: 15s
    conditions: &ok
      - "[STATUS] == 200"
      - "[CERTIFICATE_EXPIRATION] > 48h"
    alerts: &alerts
      - type: telegram
        send-on-resolved: true
    client: &client
      timeout: 3s
  - name: URL Shortener
    group: ClayenKitten
    url: https://l.clayen.dev/cats
    interval: 15s
    conditions:
      - "[STATUS] >= 300 && [STATUS] <= 399"
      - "[CERTIFICATE_EXPIRATION] > 48h"
    alerts: *alerts
    client: *client

  # ITAM
  - name: ITAM Landing Page
    group: ITAM
    url: https://itatmisis.ru
    interval: 5m
    conditions: *ok
    alerts: *alerts
    client: *client
  - name: ITAM Education
    group: ITAM
    url: https://edu.itatmisis.ru
    interval: 15s
    conditions: *ok
    alerts: *alerts
    client: *client
  - name: ITAM Education (Development)
    group: ITAM
    url: https://edu.itam.clayen.dev
    interval: 15s
    conditions: *ok
    alerts: *alerts
    client: *client

  # IDTE
  - name: Вебсайт АНО ИЦТО
    group: IDTE
    url: https://idte.ru
    interval: 1m
    conditions: *ok
    alerts: &idte-alerts
      - type: telegram
        send-on-resolved: true
        provider-override:
          id: ${TELEGRAM_IDTE_GROUP_ID}
    client: &idte-client
      timeout: 10s
  - name: Паспорт школы
    group: IDTE
    url: https://idschool.idte.ru
    interval: 1m
    conditions: *ok
    alerts: *idte-alerts
    client: *idte-client
  - name: Циклограмма
    group: IDTE
    url: https://cyclegram.idte.ru
    interval: 1m
    conditions: *ok
    alerts: *idte-alerts
    client: *idte-client
  - name: ФинИгры
    group: IDTE
    url: https://fingames.idte.ru
    interval: 1m
    conditions: *ok
    alerts: *idte-alerts
    client: *idte-client
  - name: Тепловые карты
    group: IDTE
    url: https://map-mo.idte.ru
    interval: 1m
    conditions: *ok
    alerts: *idte-alerts
    client: *idte-client

  # Other
  - name: MISIS
    group: Other
    url: https://misis.ru
    interval: 5m
    conditions: *ok
    alerts: *alerts
    client: *client
